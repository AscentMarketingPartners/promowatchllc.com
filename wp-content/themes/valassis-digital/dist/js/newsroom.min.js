/*! valassis-wp-theme v1.0.0 | (c) 2020 Valassis Design | MIT License | https://www.valassis.com */
var getUrlParameter=function(e){var t,s,o=decodeURIComponent(window.location.search.substring(1)).split("&");for(s=0;s<o.length;s++)if((t=o[s].split("="))[0]===e)return void 0===t[1]||t[1]};function getQueryVar(e,t){return(RegExp(t+"=(.+?)(&|$)").exec(e)||[,null])[1]}function toTitleCase(e){return e.replace(/(?:^|\s)\w/g,(function(e){return e.toUpperCase()}))}var categoryToShow=getUrlParameter("category");jQuery(document).ready((function(e){var t=[];if(e(".featured-container .featured-post").each((function(s){t[s]=[e(this).attr("data-post-id")]})),categoryToShow){e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?type=*&category="+categoryToShow);var s=toTitleCase(categoryToShow.replace("-"," "));"cpg-shopper"==categoryToShow?e("#dropdownMenuButton").html("CPG-Shopper").addClass("selected").css("color","#FF4141"):"tech-telecom"==categoryToShow?e("#dropdownMenuButton").html("Tech - Telecom").addClass("selected").css("color","#FF4141"):e("#dropdownMenuButton").html(s).addClass("selected").css("color","#FF4141"),e("#featured-grid-area").hide(),e(".featured-container").hide()}else e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php"),e("#featured-in-the-news").show(),e("#featured-grid-area").load("/wp-content/themes/valassis-digital/news-list-featured.php?exclude="+t).show();e(".filter-container .industry-dropdown a").not(".dropdown-toggle").click((function(t){e("#featured-grid-area").fadeOut(),e(".featured-container").fadeOut(),t.preventDefault();var s=e(this).attr("data-category-filter"),o=e("#dropdownMenuButtonTag").html();if(o="All Types"==o?"*":"In The News"==o?"in-the-news":"Press Release"==o?"press-release":e("#dropdownMenuButtonTag").html(),"*"==s)e("#dropdownMenuButton").html("All Industries").addClass("selected").css("color","#FF4141");else{var a=toTitleCase(s.replace("-"," "));"cpg-shopper"==s?e("#dropdownMenuButton").html("CPG-Shopper").addClass("selected").css("color","#FF4141"):"tech-telecom"==s?e("#dropdownMenuButton").html("Tech - Telecom").addClass("selected").css("color","#FF4141"):e("#dropdownMenuButton").html(a).addClass("selected").css("color","#FF4141")}"*"==s?(e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?type="+o),history.pushState("","","/resources/newsroom")):(e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?category="+s+"&type="+o),history.pushState("","","/resources/newsroom/?category="+s))})),e("#tag-filter a").click((function(t){e("#featured-grid-area").fadeOut(),e(".featured-container").fadeOut(),t.preventDefault();var s=e(this).attr("data-tag-filter"),o=e("#dropdownMenuButton").html();if("*"==s)e("#dropdownMenuButtonTag").html("All Types").addClass("selected").css("color","#FF4141");else{var a=toTitleCase(s.replace("-"," "));"in-the-news"==s?e("#dropdownMenuButtonTag").html("In The News").addClass("selected").css("color","#FF4141"):"press-release"==o?e("#dropdownMenuButtonTag").html("Press Release").addClass("selected").css("color","#FF4141"):e("#dropdownMenuButtonTag").html(a).addClass("selected").css("color","#FF4141")}"*"==(o="All Industries"==o?"*":e("#dropdownMenuButton").html())?e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?type="+s):e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?category="+o+"&type="+s)})),e(".paging li:first").html('<a class="page-numbers" href="/latest?page=1">1</a>'),e(document).on("click",".paging a",(function(t){t.preventDefault();var s=getQueryVar(e(this).attr("href"),"paged");e(".post-list-target").load("/wp-content/themes/valassis-digital/news-list.php?paged="+s),e("html, body").animate({scrollTop:e(".post-list").offset().top-100},1500)}))}));